"use strict";(self.webpackChunkmall=self.webpackChunkmall||[]).push([[393],{138:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(579);const n=()=>(0,s.jsx)("div",{className:"fixed top-0 left-0 z-[1055] flex h-full w-full place-items-center justify-center bg-black bg-opacity-20",children:(0,s.jsx)("div",{className:"bg-white rounded-3xl opacity-100 min-w-min h-1/4 min-w-[600px] flex justify-center items-center",children:(0,s.jsx)("div",{className:"text-4xl font-extrabold text-orange-400 m-20",children:"Loading...."})})})},367:(e,t,a)=>{a.d(t,{HD:()=>r,UU:()=>c,cs:()=>m,oK:()=>d,vS:()=>l,yf:()=>i});var s=a(651),n=a(560);const o=`${s.i$}/api/products`,r=async e=>(await n.A.get(`${o}/${e}`)).data,l=async e=>{const{page:t,size:a}=e;return(await n.A.get(`${o}/list`,{params:{page:t,size:a}})).data},i=async e=>(await n.A.post(`${o}/`,e,{headers:{"Content-Type":"multipart/form-data"}})).data,c=async(e,t)=>(await n.A.put(`${o}/${t}`,e,{headers:{"Content-Type":"multipart/form-data"}})).data,d=async e=>(await n.A.delete(`${o}/${e.pno}`)).data,m=e=>`${o}/view/${e}`},393:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(721),n=a(43),o=a(670),r=a(462),l=a(367),i=a(561),c=a(138),d=a(579);const m={dtoList:[],pageNumList:[],pageRequestDTO:null,prev:!1,next:!1,totalCount:0,prevPage:0,nextPage:0,totalPage:0,current:0},p=()=>{const{page:e,size:t,moveToList:a,moveToRead:s,refresh:p}=(0,o.A)(),{exceptionHandle:g}=(0,r.A)(),[x,h]=(0,n.useState)(m),[u,v]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{v(!0),(0,l.vS)({page:e,size:t}).then(e=>{console.log(e),h(e),v(!1)}).catch(e=>g(e))},[e,t,p]),(0,d.jsxs)("div",{className:"border-2 border-green-100 mt-10 mr-2 ml-2",children:[u?(0,d.jsx)(c.A,{}):(0,d.jsx)(d.Fragment,{}),(0,d.jsx)("div",{className:"container flex flex-wrap mx-auto justify-center p-6",children:x.dtoList.map(e=>(0,d.jsxs)("div",{className:"w-1/3 p-2 m-2 rounded shadow-md",onClick:()=>s(e.pno),children:[(0,d.jsxs)("div",{className:"font-extrabold text-lg w-1/12",children:[e.pno," "]}),(0,d.jsx)("div",{className:"font-extrabold text-lg w-11/12",children:e.pname}),(0,d.jsx)("div",{className:"font-extrabold text-base m-1 p-2 w-8/12",children:(0,d.jsx)("img",{src:(0,l.cs)(e.uploadFileNames[0]),alt:e.pname})})]},e.pno))}),(0,d.jsx)(i.A,{serverData:x,movePage:a})]})},g=()=>{const[e]=(0,s.ok)(),t=e.get("page")?parseInt(e.get("page")):1,a=e.get("size")?parseInt(e.get("size")):10;return(0,d.jsxs)("div",{className:"p-4 w-full bg-white",children:[(0,d.jsx)("div",{className:"text-3xl font-extrabold text-green-700",children:"Products List Page components"}),(0,d.jsxs)("div",{className:"text-2xl font-extrabold",children:[(0,d.jsx)("br",{}),"page: ",t," / size: ",a]}),(0,d.jsx)(p,{})]})}},462:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(721),n=a(107),o=a(3),r=a(579);const l=()=>{const e=(0,s.Zp)(),t=(0,o.wA)(),a=(0,o.d4)(e=>e.loginSlice);return{loginState:a,isLogin:!!a.email,doLogin:async e=>(await t((0,n.Kw)(e))).payload,doLogout:()=>{t((0,n.ri)())},moveToPath:t=>{e({pathname:t},{replace:!0})},moveToLogin:()=>{e({pathname:"/member/login"},{replace:!0})},moveToLoginReturn:()=>(0,r.jsx)(s.C5,{replace:!0,to:"/member/login"}),exceptionHandle:t=>{console.log("Exception--------------------"),console.log(t);const a=t.response.data.errorMsg,n=(0,s.PI)({error:a}).toString();return"REQUIRE_LOGIN"===a?(alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),void e({pathname:"/member/login",search:n})):"ERROR_ACCESSDENIED"===t.response.data.error?(alert("\uad8c\ud55c\uc774 \ubd80\uc871\ud558\uc5ec \ud574\ub2f9 \uba54\ub274\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),void e({pathname:"/member/login",search:n})):void 0}}}},561:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(579);const n=e=>{let{serverData:t,movePage:a}=e;return(0,s.jsxs)("div",{className:"m-6 flex justify-center",children:[t.prev?(0,s.jsx)("div",{className:"m-2 p-2 w-16 text-center font-bold text-blue-400",onClick:()=>a({page:t.prevPage}),children:"\uc774\uc804"}):(0,s.jsx)(s.Fragment,{}),t.pageNumList.map(e=>(0,s.jsx)("div",{className:"m-2 p-2 w-12 text-center rounded shadow-md text-white \n            "+(t.current===e?"bg-red-500":"bg-blue-400"),onClick:()=>a({page:e}),children:e},e)),t.next?(0,s.jsx)("div",{className:"m-2 p-2 w-16 text-center font-bold text-blue-400",onClick:()=>a({page:t.nextPage}),children:"\ub2e4\uc74c"}):(0,s.jsx)(s.Fragment,{})]})}},670:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(43),n=a(721);const o=(e,t)=>e?parseInt(e):t,r=()=>{const e=(0,n.Zp)(),[t]=(0,n.ok)(),[a,r]=(0,s.useState)(!1),l=o(t.get("page"),1),i=o(t.get("size"),10),c=(0,n.PI)({page:l,size:i}).toString();return{page:l,size:i,refresh:a,moveToList:t=>{let s="";if(t){const e=o(t.page,1),a=o(t.size,10);s=(0,n.PI)({page:e,size:a}).toString()}else s=c;r(!a),e({pathname:"../list",search:s})},moveToModify:t=>{console.log(c),e({pathname:`../modify/${t}`,search:c})},moveToRead:t=>{console.log(c),e({pathname:`../read/${t}`,search:c})}}}}}]);
//# sourceMappingURL=393.65b7dabe.chunk.js.map