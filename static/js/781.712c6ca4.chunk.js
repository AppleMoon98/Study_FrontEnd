"use strict";(self.webpackChunkmall=self.webpackChunkmall||[]).push([[781],{138:(e,t,s)=>{s.d(t,{A:()=>a});var l=s(579);const a=()=>(0,l.jsx)("div",{className:"fixed top-0 left-0 z-[1055] flex h-full w-full place-items-center justify-center bg-black bg-opacity-20",children:(0,l.jsx)("div",{className:"bg-white rounded-3xl opacity-100 min-w-min h-1/4 min-w-[600px] flex justify-center items-center",children:(0,l.jsx)("div",{className:"text-4xl font-extrabold text-orange-400 m-20",children:"Loading...."})})})},367:(e,t,s)=>{s.d(t,{HD:()=>d,UU:()=>c,cs:()=>m,oK:()=>o,vS:()=>n,yf:()=>i});var l=s(651),a=s(560);const r=`${l.i$}/api/products`,d=async e=>(await a.A.get(`${r}/${e}`)).data,n=async e=>{const{page:t,size:s}=e;return(await a.A.get(`${r}/list`,{params:{page:t,size:s}})).data},i=async e=>(await a.A.post(`${r}/`,e,{headers:{"Content-Type":"multipart/form-data"}})).data,c=async(e,t)=>(await a.A.put(`${r}/${t}`,e,{headers:{"Content-Type":"multipart/form-data"}})).data,o=async e=>(await a.A.delete(`${r}/${e.pno}`)).data,m=e=>`${r}/view/${e}`},670:(e,t,s)=>{s.d(t,{A:()=>d});var l=s(43),a=s(721);const r=(e,t)=>e?parseInt(e):t,d=()=>{const e=(0,a.Zp)(),[t]=(0,a.ok)(),[s,d]=(0,l.useState)(!1),n=r(t.get("page"),1),i=r(t.get("size"),10),c=(0,a.PI)({page:n,size:i}).toString();return{page:n,size:i,refresh:s,moveToList:t=>{let l="";if(t){const e=r(t.page,1),s=r(t.size,10);l=(0,a.PI)({page:e,size:s}).toString()}else l=c;d(!s),e({pathname:"../list",search:l})},moveToModify:t=>{console.log(c),e({pathname:`../modify/${t}`,search:c})},moveToRead:t=>{console.log(c),e({pathname:`../read/${t}`,search:c})}}}},781:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var l=s(721),a=s(43),r=s(367),d=s(670),n=s(949),i=s(138),c=s(579);const o={pno:0,pname:"",pdesc:"",price:0,delflag:!1,uploadFileNames:[]},m=e=>{let{pno:t}=e;const[s,l]=(0,a.useState)({...o}),[m,p]=(0,a.useState)(null),{moveToList:x,moveToRead:u}=(0,d.A)(),[f,h]=(0,a.useState)(!1),b=(0,a.useRef)(),g=e=>{s[e.target.name]=e.target.value,l({...s})};return(0,a.useEffect)(()=>{h(!0),(0,r.HD)(t).then(e=>{console.log(e),l(e),h(!1)})},[t]),(0,c.jsxs)("div",{className:"border-2 border-green-200 mt-10 m-2 p-4",children:[f?(0,c.jsx)(i.A,{}):(0,c.jsx)(c.Fragment,{}),m?(0,c.jsx)(n.A,{title:`${m}`,content:"\uc815\uc0c1\uc801\uc73c\ub85c \ucc98\ub9ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",callbackFn:()=>{"\uc0ad\uc81c\uc131\uacf5"===m?x({page:1}):u(t),p(null)}}):(0,c.jsx)(c.Fragment,{}),(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,c.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"number"}),(0,c.jsx)("input",{className:"w-4/5 p-6 rounded-r border border-solid border-neutral-500 shadow-md",name:"pno",type:"text",value:s.pno,disabled:!0})]})}),(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,c.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"pname"}),(0,c.jsx)("input",{className:"w-4/5 p-6 rounded-r border border-solid border-neutral-500 shadow-md",name:"pname",type:"text",value:s.pname,onChange:g})]})}),(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,c.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"pdesc"}),(0,c.jsx)("input",{className:"w-4/5 p-6 rounded-r border border-solid border-neutral-500 shadow-md",name:"pdesc",type:"text",value:s.pdesc,onChange:g})]})}),(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,c.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"price"}),(0,c.jsx)("input",{className:"w-4/5 p-6 rounded-r border border-solid border-neutral-500 shadow-md",name:"price",type:"number",value:s.price,onChange:g})]})}),(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,c.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"delflag"}),(0,c.jsxs)("select",{name:"status",className:"border-solid border-2 rounded m-1 p-2",onChange:e=>{const t=e.target.value;s.delflag="Y"===t,l({...s})},value:s.delflag?"Y":"N",children:[(0,c.jsx)("option",{value:"Y",children:"delflag"}),(0,c.jsx)("option",{value:"N",children:"not delflag"})]})]})}),(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,c.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"FILES"}),(0,c.jsx)("input",{ref:b,className:"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md",type:"file",multiple:!0})]})}),(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,c.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"IMAGE"}),(0,c.jsx)("div",{className:"w-4/5 justify-center flex flex-wrap items-start",children:s.uploadFileNames.map((e,t)=>(0,c.jsxs)("div",{className:"flex justify-center flex-col w-1/3",children:[(0,c.jsx)("button",{className:"bg-red-500 text-3xl text-white",onClick:()=>(e=>{const t=s.uploadFileNames.filter(t=>t!==e);s.uploadFileNames=t,l({...s})})(e),children:"DELETE"}),(0,c.jsx)("img",{alt:"img",src:(0,r.cs)(e)})]},t))})]})}),(0,c.jsxs)("div",{className:"flex justify-end p-4",children:[(0,c.jsx)("button",{type:"button",className:"rounded p-4 m-2 text-xl w-32 text-white bg-red-500",onClick:()=>{(0,r.oK)(s).then(e=>{p("\uc0ad\uc81c\uc131\uacf5")})},children:"\uc0ad\uc81c"}),(0,c.jsx)("button",{type:"button",className:"rounded p-4 m-2 text-xl w-32 text-white bg-blue-500",onClick:()=>{const e=b.current.files,t=new FormData;for(let s=0;s<e.length;s++)t.append("files",e[s]);t.append("pname",s.pname),t.append("pdesc",s.pdesc),t.append("price",s.price),t.append("delFlag",s.delflag);for(let l=0;l<s.uploadFileNames.length;l++)t.append("uploadFileNames",s.uploadFileNames[l]);h(!0),(0,r.UU)(t,s.pno).then(e=>{p("\uc218\uc815\uc131\uacf5")})},children:"\uc218\uc815"})]})]})},p=()=>{const{pno:e}=(0,l.g)();return(0,c.jsxs)("div",{className:"p-4 w-full bg-white",children:[(0,c.jsx)("div",{className:"text-3xl font-extrabold",children:"Products Modify Page Component..."}),(0,c.jsx)(m,{pno:e})]})}},949:(e,t,s)=>{s.d(t,{A:()=>a});var l=s(579);const a=e=>{let{title:t,content:s,callbackFn:a}=e;return(0,l.jsx)("div",{className:"fixed top-0 left-0 z-[1055] flex h-full w-full justify-center bg-black bg-opacity-20",onClick:()=>{a&&a()},children:(0,l.jsxs)("div",{className:"absolute bg-white dark:bg-gray-700 opacity-100 w-1/4 rounded mt-10 mb-10 px-6 min-w-[600px]",children:[(0,l.jsx)("div",{className:"justify-center bg-warning-400 mt-6 mb-6 text-2xl border-b-4 border-gray-500",children:t}),(0,l.jsx)("div",{className:"text-4xl border-orange-400 border-b-4 pt-4 pb-4",children:s}),(0,l.jsx)("div",{className:"justify-end flex",children:(0,l.jsx)("button",{className:"rounded bg-blue-500 mt-4 mb-4 px-6 pt-4 pb-4 text-lg text-white",onClick:()=>{a&&a()},children:"Close Modal"})})]})})}}}]);
//# sourceMappingURL=781.712c6ca4.chunk.js.map