"use strict";(self.webpackChunkmall=self.webpackChunkmall||[]).push([[854],{12:(e,l,s)=>{s.d(l,{A:()=>n});var t=s(3),r=s(721),a=s(579);const n=()=>{const e=(0,t.d4)(e=>e.loginSlice);return(0,a.jsxs)("nav",{id:"navbar",className:"flex bg-slate-200",children:[(0,a.jsx)("div",{className:"w-4/5 bg-gray-500",children:(0,a.jsxs)("ul",{className:"flex p-4 text-white font-bold",children:[(0,a.jsx)("li",{className:"pr-6 text-2xl",children:(0,a.jsx)(r.N_,{to:"/",children:"Main"})}),(0,a.jsx)("li",{className:"pr-6 text-2xl",children:(0,a.jsx)(r.N_,{to:"/about",children:"About"})}),e.email?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("li",{className:"pr-6 text-2xl",children:(0,a.jsx)(r.N_,{to:"/todo/",children:"Todo"})}),(0,a.jsx)("li",{className:"pr-6 text-2xl",children:(0,a.jsx)(r.N_,{to:"/products/",children:"Products"})})]}):(0,a.jsx)(a.Fragment,{})]})}),(0,a.jsx)("div",{className:"w-1/5 flex justify-end bg-black p-4 font-medium",children:e.email?(0,a.jsx)("div",{className:"text-white text-sm m-1 rounded font-bold",children:(0,a.jsx)(r.N_,{to:"/member/logout",children:"Logout"})}):(0,a.jsx)("div",{className:"text-white text-sm m-1 rounded font-bold",children:(0,a.jsx)(r.N_,{to:"/member/login",children:"Login"})})})]})}},462:(e,l,s)=>{s.d(l,{A:()=>o});var t=s(721),r=s(107),a=s(3),n=s(579);const o=()=>{const e=(0,t.Zp)(),l=(0,a.wA)(),s=(0,a.d4)(e=>e.loginSlice);return{loginState:s,isLogin:!!s.email,doLogin:async e=>(await l((0,r.Kw)(e))).payload,doLogout:()=>{l((0,r.ri)())},moveToPath:l=>{e({pathname:l},{replace:!0})},moveToLogin:()=>{e({pathname:"/member/login"},{replace:!0})},moveToLoginReturn:()=>(0,n.jsx)(t.C5,{replace:!0,to:"/member/login"}),exceptionHandle:l=>{console.log("Exception--------------------"),console.log(l);const s=l.response.data.errorMsg,r=(0,t.PI)({error:s}).toString();return"REQUIRE_LOGIN"===s?(alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),void e({pathname:"/member/login",search:r})):"ERROR_ACCESSDENIED"===l.response.data.error?(alert("\uad8c\ud55c\uc774 \ubd80\uc871\ud558\uc5ec \ud574\ub2f9 \uba54\ub274\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),void e({pathname:"/member/login",search:r})):void 0}}}},854:(e,l,s)=>{s.r(l),s.d(l,{default:()=>d});var t=s(43),r=s(462),a=s(579);const n={email:"",pw:""},o=()=>{const[e,l]=(0,t.useState)({...n}),{doLogin:s,moveToPath:o}=(0,r.A)(),i=s=>{e[s.target.name]=s.target.value,l({...e})};return(0,a.jsxs)("div",{className:"border-2 border-green-200 mt-10 m-2 p-4",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"text-4xl m-4 p-4 font-extrabold text-green-500",children:"LOGIN"})}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,a.jsx)("div",{className:"w-full p-3 text-left font-bold",children:"email"}),(0,a.jsx)("input",{className:"w-full p-3 rounded-r border border-solid border-neutral-500 shadow-md",name:"email",type:"text",value:e.email,onChange:i})]})}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,a.jsx)("div",{className:"w-full p-3 text-left font-bold",children:"Password"}),(0,a.jsx)("input",{className:"w-full p-3 rounded-r border border-solid border-neutral-500 shadow-md",name:"pw",type:"password",value:e.pw,onChange:i})]})}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"relative mb-4 flex w-full justify-center",children:(0,a.jsx)("div",{className:"w-2/5 p-6 flex justify-center font-bold",children:(0,a.jsx)("button",{className:"rounded p-4 w-3/5 bg-blue-500 text-xl text-white",onClick:l=>{s(e).then(e=>{console.log(e),e.error?alert("\uc774\uba54\uc77c \ud639\uc740 \ud328\uc2a4\uc6cc\ub4dc\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):(alert("Login"),o("/"))})},children:"LOGIN"})})})})]})};var i=s(12);const d=()=>(0,a.jsxs)("div",{className:"fixed top-0 left-0 z-[1055] flex flex-col h-full w-full",children:[(0,a.jsx)(i.A,{}),(0,a.jsx)("div",{className:"flex flex-wrap w-full h-full justify-center items-center border-2",children:(0,a.jsx)("div",{className:"text-3xl",children:(0,a.jsx)(o,{})})})]})}}]);
//# sourceMappingURL=854.1297e200.chunk.js.map